{"version":3,"sources":["routes/pages/component/Article/index.module.css","assets/img/ws.png","routes/pages/Home/index.js","routes/pages/component/Article/index.js","routes/pages/WebsocketUsecase/index.js","routes/pages/Game2048/chessStore.js","routes/pages/Game2048/Chess.js","routes/pages/Game2048/ScoreBoard.js","routes/pages/Game2048/Chessboard.js","routes/pages/Game2048/index.js","constants/routes.js","component/CustomIcon/index.js","routes/DefaultLayout/index.js","constants/global.js","constants/color.js","routes/NotFound/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","article_body","__webpack_require__","p","Home","react_default","a","createElement","React","PureComponent","Article","this","props","className","Styles","children","Title","Paragraph","Text","WebsocketUsecase","option","language","lineNumbers","readonly","flask1","Codeflask","flask2","flask3","updateCode","Fragment","level","divider","src","IMG_WS","width","id","style","height","position","table","columns","dataIndex","title","dataSource","desc","pagination","size","event","handler","function","marginBottom","name","type","Article_Article","overflow","typography","renderParagraph1","renderParagraph2","renderParagraph3","renderParagraph4","ChessStore","Object","classCallCheck","_count","axisX","x","axisY","y","list","score","_addRandomValue","createClass","key","value","_this","canAddAry","_loop","_loop2","find","item","push","length","label","Math","floor","random","objectSpread","merge","axis","reverse","_this2","emunAxis","copy","slice","filter","map","double","aimAry","relativeAxis","isChange","_loop3","i","rowAry","sort","b","mergeAry","forEach","index","every","abs","_ref","currentIndex","findIndex","copyItem","result","mergedItem","ary","code","_mergeSameValue","_this3","some","data","COLOR_ENUM","2","4","8","16","32","64","128","256","512","1024","2048","Chess","state","animateClass","prevProps","nextState","snapshot","setState","_this$props","bound","left","top","margin","textAlign","lineHeight","backgroundColor","transition","zIndex","console","log","ScoreBoard","dis","prevState","borderRadius","color","fontSize","Chessboard","chessList","defeated","chessStore","handleClickAgain","restart","handleKeyPress","keyCode","move","check","window","addEventListener","ScoreBoard_ScoreBoard","_this$state","boardStyle","background","Bound","emptyBoxStyle","border","float","gameOverStyle","fontWeight","renderHeader","Chess_Chess","marginTop","es_button","ghost","onClick","Game2048","Chessboard_Chessboard","menu","icon","path","routeConfig","text","component","exact","CustomIcon","es_icon","createFromIconfontCN","scriptUrl","SubMenu","Item","Sider","Header","App","isCollapse","contentHeight","document","documentElement","clientHeight","contentWidth","clientWidth","handleCollapseSider","renderMenuNode","react_router_dom","to","pathname","logoStyle","V_LAYOUT_HEADER_HEIGHT","padding","iconType","collapsed","minWidth","mode","theme","headerStyle","routes","route","react_router","render","assign","layout","renderSider","renderContent","Component","NotFound","browserHistory","createBrowserHistory","history","DefaultLayout","Boolean","location","hostname","match","ReactDOM","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.190ba818.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"article_body\":\"Article_article_body__1MmxI\"};","module.exports = __webpack_public_path__ + \"static/media/ws.37927860.png\";","import React from 'react'\r\n\r\nexport default class Home extends React.PureComponent{\r\n    render() {\r\n        return <div>主页</div>\r\n    }\r\n}","import React from 'react'\r\nimport Styles from './index.module.css'\r\n\r\nexport default class Article extends React.PureComponent {\r\n    render () {\r\n\r\n        return <div { ...this.props }>\r\n            <div className={ Styles.article_body }>\r\n                { this.props.children }\r\n            </div>\r\n        </div>\r\n    }\r\n}","import React from 'react'\r\nimport Article from \"../component/Article\";\r\nimport { Typography, Divider, Table } from \"antd\";\r\nimport IMG_WS from '../../../assets/img/ws.png'\r\nimport Codeflask from 'codeflask'\r\n\r\nconst { Title, Paragraph, Text } = Typography\r\n\r\nexport default class WebsocketUsecase extends React.PureComponent {\r\n\r\n    componentDidMount () {\r\n        const option = { language: 'js', lineNumbers: true, readonly: true }\r\n        const flask1 = new Codeflask('#codeTextArea', option)\r\n        const flask2 = new Codeflask('#codeTextArea2', option)\r\n        const flask3 = new Codeflask('#codeTextArea3', option)\r\n        const code1 = `const Socket = new Websocket(url,[protocol])\r\n                     //url, 指定连接的 URL\r\n                     // protocol 是可选的，指定了可接受的子协议`\r\n        const code3 = 'const ws= new DataPointWebSocket (params)' +\r\n            '// 创建实例'\r\n        const code2 = '/***\\n' +\r\n            ' * websocket封装类\\n' +\r\n            ' * @author daopian\\n' +\r\n            ' * @param {Object} config - 配置对象\\n' +\r\n            ' * @param {String} config.type - 1:数据点 2:数据感知点\\n' +\r\n            ' * @param {String} config.id - 对应的数据点id\\n' +\r\n            ' * @example const ws =new DataPointWebSocket(config)\\n' +\r\n            ' *          now you can use ws to subscribe and unsubscribe\\n' +\r\n            ' */\\n' +\r\n            'export class DataPointWebSocket {\\n' +\r\n            '  constructor (config) {\\n' +\r\n            '    this.params = config || {}\\n' +\r\n            '    this.clearable = false\\n' +\r\n            '    this.connect() // 初始化\\n' +\r\n            '  }\\n' +\r\n            '  heartCheck = { // 心跳检测\\n' +\r\n            '    context: this,\\n' +\r\n            '    timeout: 60000,\\n' +\r\n            '    timeoutObj: null,\\n' +\r\n            '    start: function () {\\n' +\r\n            '      const timeout = this.timeout\\n' +\r\n            '      const websocket = this.context.ws\\n' +\r\n            '      this.timeoutObj = setTimeout(() => { // 一分钟无数据推送时检测连接是否正常，若不正常会触发ws的close事件\\n' +\r\n            '        websocket.send(\\'HeartBeat\\')\\n' +\r\n            '        this.reset()\\n' +\r\n            '      }, timeout)\\n' +\r\n            '    },\\n' +\r\n            '    reset: function () {\\n' +\r\n            '      this.stop()\\n' +\r\n            '      this.start()\\n' +\r\n            '    },\\n' +\r\n            '    stop: function () {\\n' +\r\n            '      window.clearTimeout(this.timeoutObj)\\n' +\r\n            '    }\\n' +\r\n            '  }\\n' +\r\n            '  connect () { // 发起连接并绑定事件\\n' +\r\n            '    window.WebSocket = window.WebSocket || window.MozWebSocket\\n' +\r\n            '    if (!window.WebSocket) { // 检测浏览器支持\\n' +\r\n            '      console.error(\\'错误: 浏览器不支持websocket\\')\\n' +\r\n            '      return\\n' +\r\n            '    }\\n' +\r\n            '    const {type, id} = this.params\\n' +\r\n            '    const url = baseUrl + \\'type=\\' + type + \\'&id=\\' + id\\n' +\r\n            '    this.ws = new WebSocket(url)\\n' +\r\n            '    this.ws.onopen = (ev) => {\\n' +\r\n            '      this.heartCheck.start()  //开始心跳检测\\n' +\r\n            '      this.onOpen(ev)\\n' +\r\n            '    }\\n' +\r\n            '    this.ws.onerror = (ev) => {\\n' +\r\n            '      this.onError(ev)\\n' +\r\n            '      this.reconnect()\\n' +\r\n            '    }\\n' +\r\n            '    this.ws.onclose = () => { // 心跳重连时会主动触发onclose\\n' +\r\n            '      this.heartCheck.stop()\\n' +\r\n            '      this.reconnect()\\n' +\r\n            '    }\\n' +\r\n            '    this.ws.onmessage = (message) => {\\n' +\r\n            '      this.heartCheck.reset()\\n' +\r\n            '      const {value} = JSON.parse(message.data)\\n' +\r\n            '      this.subscribe(value)\\n' +\r\n            '    }\\n' +\r\n            '  }\\n' +\r\n            '  reconnect () { // 重连\\n' +\r\n            '    if (this.ws.readyState === WebSocket.CLOSED || this.ws.readyState === WebSocket.CLOSING) { // 当ws状态已关闭或正在关闭\\n' +\r\n            '      if (!this.clearable) {\\n' +\r\n            '        this.connect() //\\n' +\r\n            '      } else {\\n' +\r\n            '        this.clearable = false\\n' +\r\n            '      }\\n' +\r\n            '    }\\n' +\r\n            '  }\\n' +\r\n            '  onOpen (ev) { // 连接成功的回调\\n' +\r\n            '  }\\n' +\r\n            '  onError (ev) { // 发生错误的回调\\n' +\r\n            '  }\\n' +\r\n            '  subscribe (value) { // 订阅数据更新\\n' +\r\n            '  }\\n' +\r\n            '  unsubscribe () { // 取消订阅\\n' +\r\n            '    this.clearable = true\\n' +\r\n            '    this.ws.close()\\n' +\r\n            '  }\\n' +\r\n            '  update (params) { // 更新参数\\n' +\r\n            '    this.params = params\\n' +\r\n            '    return this // 为链式调用\\n' +\r\n            '  }\\n' +\r\n            '}'\r\n        flask1.updateCode(code1)\r\n        flask2.updateCode(code2)\r\n        flask3.updateCode(code3)\r\n    }\r\n\r\n    renderParagraph1 () {\r\n        return <React.Fragment>\r\n            <Title level={ 3 }>一.websocket简介</Title>\r\n            <Divider/>\r\n            <Paragraph>\r\n                WebSocket 是 HTML5 开始提供的一种在单个 TCP 连接上进行全双工通讯的协议。\r\n            </Paragraph>\r\n            <Paragraph>\r\n                WebSocket 使得客户端和服务器之间的数据交换变得更加简单，允许服务端主动向客户端推送数据。在 WebSocket API\r\n                中，浏览器和服务器只需要完成一次握手，两者之间就直接可以创建持久性的连接，并进行双向数据传输。\r\n            </Paragraph>\r\n            <Paragraph>\r\n                在 WebSocket API 中，浏览器和服务器只需要做一个握手的动作，然后，浏览器和服务器之间就形成了一条快速通道。两者之间就直接可以数据互相传送。\r\n            </Paragraph>\r\n            <Paragraph><img src={ IMG_WS } width={ '100%' }/></Paragraph>\r\n        </React.Fragment>\r\n    }\r\n\r\n    renderParagraph2 () {\r\n        return <React.Fragment>\r\n            <Title level={ 3 }>二.websocket特点</Title>\r\n            <Divider/>\r\n            <Text>1.&nbsp;&nbsp;建立在 TCP 协议之上，服务器端的实现比较容易。</Text><br/>\r\n            <Text>2.&nbsp;&nbsp;与 HTTP 协议有着良好的兼容性。默认端口也是80和443，并且握手阶段采用 HTTP 协议，因此握手时不容易屏蔽，能通过各种 HTTP 代理服务器。</Text><br/>\r\n            <Text>3.&nbsp;&nbsp;数据格式比较轻量，性能开销小，通信高效。</Text><br/>\r\n            <Text>4.&nbsp;&nbsp;可以发送文本，也可以发送二进制数据。</Text><br/>\r\n            <Text>5.&nbsp;&nbsp;没有同源限制，客户端可以与任意服务器通信。</Text><br/>\r\n            <Text>6.&nbsp;&nbsp;协议标识符是ws（如果加密，则为wss），服务器网址就是 URL。</Text>\r\n        </React.Fragment>\r\n    }\r\n\r\n    renderParagraph3 () {\r\n        return <React.Fragment>\r\n            <Title level={ 3 }>三.websocket的使用</Title>\r\n            <Divider/>\r\n            <Title level={ 4 }>1）创建websocket对象-Socket</Title>\r\n            <div id={ 'codeTextArea' } style={ { width: '100%', height: 100, position: 'relative' } }/>\r\n            <Title level={ 4 }>2）Socket 属性</Title>\r\n            <Table columns={ [{ dataIndex: 'props', title: '属性' }, { dataIndex: 'desc', title: '描述' }] }\r\n                   dataSource={ [{ props: 'Socket.readyState', desc: '只读属性 readyState 表示连接状态。' },\r\n                       { props: '', desc: '0 - 表示连接尚未建立。' },\r\n                       { props: '', desc: '1 - 表示连接已建立，可以进行通信。' },\r\n                       { props: '', desc: '2 - 表示连接正在进行关闭。' },\r\n                       { props: '', desc: '3 - 表示连接已经关闭或者连接不能打开。' },\r\n                       {\r\n                           props: 'Socket.bufferedAmount',\r\n                           desc: '只读属性 bufferedAmount 已被 send() 放入正在队列中等待传输，但是还没有发出的 UTF-8 文本字节数。'\r\n                       },\r\n                   ] }\r\n                   pagination={ false } size='small'/>\r\n            <Title level={ 4 }>3）Socket 事件</Title>\r\n            <Table pagination={ false } size='small'\r\n                   columns={ [{ dataIndex: 'event', title: '事件' },\r\n                       { dataIndex: 'handler', title: '事件处理程序' },\r\n                       { dataIndex: 'desc', title: '描述' }] }\r\n                   dataSource={ [{ event: 'open', handler: 'Socket.onopen', desc: '连接建立时触发' },\r\n                       { event: 'message', handler: 'Socket.onmesage', desc: '客户端接收服务端数据时触发' },\r\n                       { event: 'error', handler: 'Socket.onerror', desc: '通信发生错误时触发' },\r\n                       { event: 'close', handler: 'Socket.onclose', desc: '连接关闭时触发' }] }/>\r\n            <Title level={ 4 }>4）Socket 方法</Title>\r\n            <Table pagination={ false } size='small'\r\n                   columns={ [{ dataIndex: 'function', title: '方法' }, { dataIndex: 'desc', title: '描述' }] }\r\n                   dataSource={ [{ function: 'Socket.send()', desc: '使用连接发送数据' },\r\n                       { function: 'Socket.close()', desc: '关闭连接' }] }/>\r\n        </React.Fragment>\r\n    }\r\n\r\n    renderParagraph4 () {\r\n        return <React.Fragment>\r\n            <Title level={ 3 }>三.websocket的使用</Title>\r\n            <Divider/>\r\n            <Title level={ 4 }>1）心跳重连</Title>\r\n            <Paragraph>\r\n                在使用Websocket过程中, 可能会出现网络断开的情况, 比如信号不好, 或者网络临时性关闭, 这时候Websocket的连接已经断开, 而浏览器不会触发websocket的onclose方法,\r\n                我们无法知道是否断开连接, 也就无法进行重连操作。\r\n            </Paragraph>\r\n            <Paragraph>\r\n                如果在这种情况下向后端发送数据, onclose便会触发, 这时候便可进行绑定好的重连操作.因此websocket心跳重连就应运而生了。\r\n            </Paragraph>\r\n            <Title level={ 4 }>2）websocket的封装</Title>\r\n            <Paragraph>\r\n                为了方便在项目中使用，作者已经整合了心跳重连及一些基础绑定操作，使用者在使用时可将精力聚焦在数据响应的处理上，无需再考虑心跳重连及基础操作。使用者使用对象时需订阅数据，在退出界面时应关闭连接即取消订阅，对于参数改变使用update方法更新参数。代码持续优化中...\r\n            </Paragraph>\r\n            <div id={ 'codeTextArea2' } style={ { width: '100%', height: 1760, position: 'relative' } }/>\r\n            <Title level={ 4 }>API:</Title>\r\n            <div id={ 'codeTextArea3' }\r\n                 style={ { width: '100%', height: 50, position: 'relative', marginBottom: 20 } }/>\r\n            <Table pagination={ false } size='small'\r\n                   columns={ [{ dataIndex: 'name', title: '名称' },\r\n                       { dataIndex: 'desc', title: '说明' },\r\n                       { dataIndex: 'type', title: '类型' }] }\r\n                   dataSource={ [{ name: 'ws.onOpen', desc: '创建连接时', type: 'function(ev)--回调' },\r\n                       { name: 'ws.onError ', desc: '连接出现问题', type: 'function(ev)--回调' },\r\n                       { name: 'ws.subscribe', desc: '订阅，响应后端响应', type: 'function(value)--回调' },\r\n                       { name: 'ws.unsubscribe ', desc: '取消订阅，关闭连接', type: 'function()--方法' },\r\n                       { name: 'ws.update', desc: '更新对象，参数（params）', type: 'function()--方法' },\r\n                       { name: 'ws.update', desc: '手动重连', type: 'function()--方法' }] }/>\r\n        </React.Fragment>\r\n    }\r\n\r\n\r\n    render () {\r\n        const { height } = this.props\r\n\r\n        return <Article style={ { height, overflow: 'auto' } }>\r\n            <Typography>\r\n                <Title level={ 2 }>websocket项目初级方案沉淀</Title>\r\n                { this.renderParagraph1() }\r\n                { this.renderParagraph2() }\r\n                { this.renderParagraph3() }\r\n                { this.renderParagraph4() }\r\n            </Typography>\r\n        </Article>\r\n    }\r\n\r\n}","/**\r\n * @class : 棋盘数据处理中心\r\n */\r\nexport class ChessStore {\r\n    constructor ( props )\r\n    {\r\n        this._count = 0\r\n        this.axisX = props.x\r\n        this.axisY = props.y\r\n        this.list = []\r\n        this.score = 0\r\n        this._addRandomValue()\r\n        this._addRandomValue()\r\n    }\r\n\r\n    /**\r\n     * @function add random value to the list\r\n     * @private\r\n     */\r\n\r\n    _addRandomValue ()\r\n    {\r\n        // const value = Math.floor(Math.random() * 10) > 5 ? 2 : 4 // the random value : 2 or 4\r\n        const value = 2\r\n        const canAddAry = []\r\n        for ( let x = 0; x < this.axisX; x++ ) {\r\n            for ( let y = 0; y < this.axisY; y++ ) {\r\n                if (!this.list.find(item => item.x === x && item.y === y)) {\r\n                    canAddAry.push({ x, y })\r\n                }\r\n            }\r\n        }\r\n        if (canAddAry.length) {\r\n            const label = Math.floor(Math.random() * canAddAry.length)\r\n            this.list.push({ ...canAddAry[label], value, label: this._count, merge: false })\r\n            this._count++\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @function merge the same value\r\n     * @param direction  {x,y}\r\n     * @private\r\n     */\r\n    _mergeSameValue ( axis, reverse )\r\n    {\r\n        const emunAxis = { 'x': this.axisX, 'y': this.axisY }\r\n        const copy = this.list.slice().filter(item => !!item.value).map(item => {\r\n            return { ...item, double: false, }\r\n        })\r\n        const aimAry = copy.slice()\r\n        const relativeAxis = axis === 'x' ? 'y' : 'x' //相对坐标\r\n        let isChange = false\r\n        for ( let i = 0; i < emunAxis[relativeAxis]; i++ ) {\r\n            const rowAry = aimAry.filter(item => item[relativeAxis] === i).sort(( a, b ) => (a[axis] - b[axis]) * (reverse ? -1 : 1))\r\n            const mergeAry = []\r\n            if (rowAry.length) {\r\n                rowAry.forEach(( item, index ) => {\r\n                    if (rowAry[index + 1] && item.value === rowAry[index + 1].value && mergeAry.every(label => Math.abs(label - index) > 1)) {\r\n                        mergeAry.push(index)\r\n                    }\r\n                })\r\n                mergeAry.forEach(label => {\r\n                    rowAry[label].value = 2 * rowAry[label].value\r\n                    rowAry[label].double = true\r\n                    rowAry[label + 1].value = 0\r\n                    this.score = ( rowAry[label].value) + this.score\r\n                })\r\n                rowAry.filter(item => item.value).forEach(( { label, value }, index ) => {\r\n                    const currentIndex = copy.findIndex(copyItem => copyItem.label === label)\r\n                    const result = reverse ? (emunAxis[relativeAxis] - index - 1) : index\r\n                    if (currentIndex > -1 && copy[currentIndex][axis] !== result) {\r\n                        copy[currentIndex].value = value\r\n                        copy[currentIndex][axis] = result\r\n                        isChange = true\r\n                    }\r\n                })\r\n                rowAry.filter(item => !item.value).forEach(( mergedItem ) => {\r\n                    const currentIndex = copy.findIndex(copyItem => copyItem.label === mergedItem.label)\r\n                    const ary = copy.filter(item => {\r\n                        const jud = reverse ? mergedItem[axis] < item[axis] : mergedItem[axis] > item[axis]\r\n                        return jud && item.value && mergedItem[relativeAxis] === item[relativeAxis] && item.double\r\n                    })\r\n                    if (ary.length) {\r\n                        copy[currentIndex][axis] = ary[ary.length - 1][axis]\r\n                        isChange = true\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        this.list = copy\r\n        isChange && this._addRandomValue()\r\n    }\r\n\r\n    /**\r\n     * @function move the chess\r\n     * @param code :number (key code)\r\n     */\r\n    move ( code )\r\n    {\r\n        switch ( code ) {\r\n            case 37: // left\r\n                this._mergeSameValue('x', false)\r\n                break;\r\n            case 38: // top\r\n                this._mergeSameValue('y', false)\r\n                break;\r\n            case 39: // right\r\n                this._mergeSameValue('x', true)\r\n                break;\r\n            case 40: // bottom\r\n                this._mergeSameValue('y', true)\r\n                break;\r\n        }\r\n    }\r\n\r\n    check ()\r\n    {\r\n        if (this.list.filter(item => !!item.value).length < this.axisY * this.axisX) {\r\n            return true\r\n        } else {\r\n            return this.list.some(item => { //\r\n                const { x, y, value } = item\r\n                return !!this.list.filter(data => ((data.y === y && data.x === x + 1) || (data.x === x && data.y === y + 1)) && value === data.value).length\r\n            })\r\n        }\r\n    }\r\n\r\n    restart ()\r\n    {\r\n        this._count = 0\r\n        this.score = 0\r\n        this.list = []\r\n        this._addRandomValue()\r\n        this._addRandomValue()\r\n    }\r\n\r\n}","/**\r\n * @file: 棋子\r\n */\r\nimport React from 'react'\r\n\r\nconst COLOR_ENUM = { //棋子颜色\r\n    '2'   : '#eee4da',\r\n    '4'   : '#ece0ca',\r\n    '8'   : '#f2b179',\r\n    '16'  : '#f59562',\r\n    '32'  : '#f57c5f',\r\n    '64'  : '#f75e3c',\r\n    '128' : '#edce71',\r\n    '256' : '#f1c967',\r\n    '512' : '#ecc850',\r\n    '1024': '#efc53f',\r\n    '2048': 'red',\r\n}\r\n\r\n\r\nexport default class Chess extends React.PureComponent {\r\n\r\n\r\n    state = { animateClass: 'zoomIn' }\r\n\r\n\r\n    componentDidUpdate ( prevProps, nextState, snapshot )\r\n    {\r\n        if (this.props.double !== prevProps.double) { //\r\n            this.setState({ animateClass: this.props.double ? 'pulse' : '' })\r\n        } else {\r\n            // this.setState({ animateClass: '' })\r\n        }\r\n    }\r\n\r\n    render ()\r\n    {\r\n\r\n        const { value, bound, x, y } = this.props\r\n        const { animateClass } = this.state\r\n        const bgColor = COLOR_ENUM[value] || '#ccc0b4'\r\n        const style = {\r\n            left           : bound * x + \"px\",\r\n            top            : bound * y + \"px\",\r\n            width          : bound - 20,\r\n            height         : bound - 20,\r\n            margin         : 10,\r\n            position       : 'absolute',\r\n            textAlign      : 'center',\r\n            lineHeight     : bound - 20 + 'px',\r\n            backgroundColor: bgColor,\r\n            transition     : 'all 0.3s',\r\n            zIndex         : value ? 1 : 0\r\n        }\r\n        console.log(animateClass)\r\n        return <div style={ style } className={ 'animated ' + animateClass }>\r\n            { value }\r\n        </div>\r\n    }\r\n}","import React from 'react'\r\n\r\nexport default class ScoreBoard extends React.PureComponent {\r\n\r\n\r\n    state = { dis: 0 }\r\n\r\n    componentDidUpdate ( prevProps, prevState, snapshot )\r\n    {\r\n        if (this.props.score !== prevProps.score) {\r\n            const dis = this.props.score - prevProps.score\r\n            this.setState({ dis })\r\n        }\r\n    }\r\n\r\n    render ()\r\n    {\r\n        const { score } = this.props\r\n        const { dis } = this.state\r\n        const style = {\r\n            backgroundColor: 'rgb(204, 192, 180)',\r\n            width          : 120,\r\n            textAlign      : 'center',\r\n            borderRadius   : 4,\r\n            marginBottom   : 10,\r\n        }\r\n        return <div style={ style }>\r\n            <span style={ { color: '#eee4da' } }>SCORE:</span>\r\n            <br/>\r\n            <span style={ { color: '#fff', fontSize: 24, } }>{ score }</span>\r\n            {/*<span className={ 'animated fadeoutUp' }*/}\r\n            {/*      style={ { position: 'absolute' } }>{ '+' + dis }</span>*/}\r\n        </div>\r\n    }\r\n}\r\n","/**\r\n * @file: 棋盘\r\n */\r\n\r\nimport React from 'react'\r\nimport { ChessStore } from \"./chessStore\";\r\nimport Chess from \"./Chess\";\r\nimport { Button } from \"antd\";\r\nimport ScoreBoard from \"./ScoreBoard\";\r\n\r\nconst SIZE = 4\r\nconst Bound = 120\r\n\r\nexport default class Chessboard extends React.PureComponent {\r\n\r\n    state = { chessList: [], defeated: false, score: 0 }\r\n\r\n    chessStore = null\r\n\r\n    componentDidMount ()\r\n    {\r\n        const chessStore = new ChessStore({ x: SIZE, y: SIZE })\r\n        this.chessStore = chessStore\r\n        this.setState({ chessList: chessStore.list })\r\n        window.addEventListener('keydown', this.handleKeyPress)\r\n    }\r\n\r\n    handleClickAgain = () => {\r\n        this.chessStore.restart()\r\n        const chessList = this.chessStore.list.slice()\r\n        this.setState({ defeated: false, chessList })\r\n    }\r\n\r\n    handleKeyPress = ( event ) => {\r\n        if (event.keyCode >= 37 && event.keyCode <= 40) {\r\n            this.chessStore.move(event.keyCode)\r\n            const chessList = this.chessStore.list.slice()\r\n            const score = this.chessStore.score\r\n            const defeated = !this.chessStore.check()\r\n            if (defeated) {\r\n                this.setState({ defeated, chessList, score })\r\n            } else {\r\n                this.setState({ chessList, score })\r\n            }\r\n        }\r\n    }\r\n\r\n    renderHeader ()\r\n    {\r\n        const { score } = this.state\r\n        return <ScoreBoard score={score}/>\r\n    }\r\n\r\n    render ()\r\n    {\r\n        const { chessList, defeated } = this.state\r\n        const boardStyle = {\r\n            overflow  : 'hidden',\r\n            background: '#bcaea1',\r\n            width     : Bound * SIZE,\r\n            height    : Bound * SIZE,\r\n            position  : 'relative',\r\n        }\r\n        const emptyBoxStyle = {\r\n            border         : '10px solid #bcaea1',\r\n            backgroundColor: '#ccc0b4',\r\n            width          : Bound,\r\n            height         : Bound,\r\n            float          : 'left'\r\n        }\r\n        const gameOverStyle = {\r\n            position  : 'absolute',\r\n            width     : boardStyle.width,\r\n            height    : boardStyle.height,\r\n            zIndex    : 10,\r\n            textAlign : 'center',\r\n            fontSize  : 60,\r\n            fontWeight: 'bold',\r\n            background: 'rgba(238, 228, 218, 0.5)'\r\n        }\r\n        const gameOverTextStyle = {\r\n            marginTop   : 120,\r\n            marginBottom: 0\r\n        }\r\n\r\n        return <div>\r\n            { this.renderHeader() }\r\n            <div style={ boardStyle }>\r\n                <div style={ emptyBoxStyle }/>\r\n                <div style={ emptyBoxStyle }/>\r\n                <div style={ emptyBoxStyle }/>\r\n                <div style={ emptyBoxStyle }/>\r\n                <div style={ emptyBoxStyle }/>\r\n                <div style={ emptyBoxStyle }/>\r\n                <div style={ emptyBoxStyle }/>\r\n                <div style={ emptyBoxStyle }/>\r\n                <div style={ emptyBoxStyle }/>\r\n                <div style={ emptyBoxStyle }/>\r\n                <div style={ emptyBoxStyle }/>\r\n                <div style={ emptyBoxStyle }/>\r\n                <div style={ emptyBoxStyle }/>\r\n                <div style={ emptyBoxStyle }/>\r\n                <div style={ emptyBoxStyle }/>\r\n                <div style={ emptyBoxStyle }/>\r\n                { chessList.map(( { value, x, y, label, double } ) => <Chess x={ x }\r\n                                                                             y={ y }\r\n                                                                             value={ value }\r\n                                                                             double={ double }\r\n                                                                             bound={ Bound }\r\n                                                                             key={ label }/>) }\r\n                { defeated ? <div style={ gameOverStyle }>\r\n                    <p style={ gameOverTextStyle }>GAME OVER!</p>\r\n                    <Button ghost onClick={ this.handleClickAgain }>TRY AGAIN</Button>\r\n                </div> : null }\r\n            </div>\r\n        </div>\r\n    }\r\n}","import React from 'react'\r\nimport Chessboard from \"./Chessboard\";\r\nimport Article from \"../component/Article\";\r\n\r\nexport default class Game2048 extends React.PureComponent {\r\n    render ()\r\n    {\r\n        return <Article><Chessboard/></Article>\r\n    }\r\n}","import Home from \"../routes/pages/Home\";\r\nimport WebsocketUsecase from \"../routes/pages/WebsocketUsecase\";\r\nimport Game2048 from '../routes/pages/Game2048'\r\n\r\nexport const menu = [\r\n    {\r\n        title: '技术总结',\r\n        icon: 'icon-Summary',\r\n        children: [\r\n            { title: 'websocket使用', path: '/summary/websocket' }\r\n        ]\r\n    },\r\n    {\r\n        title: 'Demo',\r\n        icon: 'icon-codeoptimization',\r\n        children: [\r\n            { title: '2048小游戏', path: '/demo/game2048' }\r\n        ]\r\n    }\r\n]\r\nexport const routeConfig = [\r\n    { path: '/', text: '主页', component: Home, exact: true },\r\n    { path: '/home', text: '主页', component: Home, exact: true },\r\n    { path: '/summary/websocket', text: 'websocket使用', component: WebsocketUsecase, exact: true },\r\n    { path: '/demo/game2048', text: '2048小游戏', component: Game2048, exact: true },\r\n]","import { Icon } from 'antd'\r\n\r\nexport const CustomIcon = Icon.createFromIconfontCN({\r\n    scriptUrl:'//at.alicdn.com/t/font_1286037_s8te0szqzgn.js'\r\n})\r\n\r\n","import React, { Component } from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router'\r\nimport { Link } from 'react-router-dom'\r\nimport { Layout, Menu, Icon } from 'antd'\r\nimport { menu, routeConfig } from '../../../src/constants/routes'\r\nimport { V_LAYOUT_HEADER_HEIGHT, V_LAYOUT_SIDER_SMALL_WIDTH, V_LAYOUT_SIDER_WIDTH } from \"../../constants/global\";\r\nimport { WHITE } from \"../../constants/color\";\r\nimport { CustomIcon } from '../../component/CustomIcon/index'\r\n\r\nconst { SubMenu, Item } = Menu\r\nconst { Sider, Header } = Layout\r\n\r\n\r\nclass App extends Component {\r\n\r\n\r\n    state = {\r\n        isCollapse: false,\r\n        contentHeight: document.documentElement.clientHeight,// 可视区域的高度\r\n        contentWidth: document.documentElement.clientWidth // 可视区域的宽度\r\n    }\r\n\r\n    componentDidMount () {\r\n        // 修改窗口大小时 更新显示区域的展示\r\n        window.addEventListener('resize', () => this.setState({\r\n            contentHeight: document.documentElement.clientHeight,\r\n            contentWidth: document.documentElement.clientWidth\r\n        }))\r\n    }\r\n\r\n    handleCollapseSider = () => this.setState({ isCollapse: !this.state.isCollapse })\r\n\r\n    renderMenuNode = ( list ) => list.map(( { children, title, icon, path } ) => {\r\n        if (children) {\r\n            return <SubMenu key={ title }\r\n                            title={ <span><CustomIcon type={ icon }/><span>{ title }</span></span> }>\r\n                { this.renderMenuNode(children) }\r\n            </SubMenu>\r\n        }\r\n        return <Item key={ path }>\r\n            <Link to={ { pathname: path } }>{ title }</Link>\r\n        </Item>\r\n    })\r\n\r\n\r\n    renderSider () {\r\n        const logoStyle = {\r\n            height: V_LAYOUT_HEADER_HEIGHT,\r\n            lineHeight: V_LAYOUT_HEADER_HEIGHT + \"px\",\r\n            padding: '0 12px'\r\n        }\r\n        const iconStyle = { float: 'right' }\r\n        const { isCollapse } = this.state\r\n        const width = isCollapse ? V_LAYOUT_SIDER_SMALL_WIDTH : V_LAYOUT_SIDER_WIDTH\r\n        const iconType = this.state.isCollapse ? 'menu-unfold' : 'menu-fold'\r\n\r\n        return <Sider width={ width } collapsed={ isCollapse } style={ { minWidth: 0 } }>\r\n            <Menu mode='inline'\r\n                  theme='dark'>\r\n                <div style={ logoStyle }>\r\n                    <Icon style={ iconStyle } type={ iconType } onClick={ this.handleCollapseSider }/>\r\n                </div>\r\n                { this.renderMenuNode(menu) }\r\n            </Menu>\r\n        </Sider>\r\n    }\r\n\r\n    renderHeader () {\r\n        const headerStyle = {\r\n            height: V_LAYOUT_HEADER_HEIGHT,\r\n            lineHeight: V_LAYOUT_HEADER_HEIGHT + 'px',\r\n            backgroundColor: WHITE\r\n        }\r\n\r\n        return <Header style={ headerStyle }/>\r\n    }\r\n\r\n    renderContent () {\r\n        const { contentHeight, contentWidth, isCollapse } = this.state\r\n        const height = contentHeight - V_LAYOUT_HEADER_HEIGHT\r\n        const width = contentWidth - (isCollapse ? V_LAYOUT_SIDER_SMALL_WIDTH : V_LAYOUT_SIDER_WIDTH)\r\n        const routes = routeConfig.map(route =>\r\n            <Route key={ route.path } path={ route.path } exact={ route.exact }\r\n                   render={ ( props ) => <route.component height={ height }\r\n                                                          width={ width }\r\n                                                          { ...props }/> }/>)\r\n\r\n        return <Switch>\r\n            { routes }\r\n            <Redirect to='notFound'/>\r\n        </Switch>\r\n    }\r\n\r\n    render () {\r\n        return <Layout className='height1'>\r\n            { this.renderSider() }\r\n            <Layout>\r\n                { this.renderHeader() }\r\n                { this.renderContent() }\r\n            </Layout>\r\n        </Layout>\r\n    }\r\n}\r\n\r\nexport default App;\r\n","// V - value\r\nexport const V_LAYOUT_HEADER_HEIGHT = 40 // 顶部高度\r\nexport const V_LAYOUT_SIDER_WIDTH = 200 // 左侧菜单栏宽度\r\nexport const V_LAYOUT_SIDER_SMALL_WIDTH = 160 // 左侧菜单栏收缩宽度\r\n\r\n// K - key\r\n","export const WHITE = '#FFF'\r\nexport const RED_6 = \"#\"","import React from 'react'\r\n\r\nexport default class NotFound extends React.PureComponent{\r\n    render() {\r\n        return<div>页面走丢了。。。</div>\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport {Router, Switch, Route} from 'react-router'\r\nimport {createBrowserHistory} from 'history'\r\nimport DefaultLayout from \"./routes/DefaultLayout\";\r\nimport NotFound from \"./routes/NotFound\";\r\n\r\n\r\nconst browserHistory = createBrowserHistory()\r\n\r\nclass App extends Component {\r\n    render() {\r\n        return <Router history={browserHistory}>\r\n                <Switch>\r\n                    <Switch>\r\n                        <Route exact component={DefaultLayout}/>\r\n                        <Route path='/notFound' component={NotFound}/>\r\n                    </Switch>\r\n                </Switch>\r\n        </Router>\r\n    }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'normalize.css'\r\nimport './assets/css/property.css'\r\nimport './assets/css/basic.css'\r\nimport 'animate.css'\r\n\r\nReactDOM.render(<App/>, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}